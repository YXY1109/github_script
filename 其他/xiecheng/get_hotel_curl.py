import requests

cookies = {
    'ibulanguage': 'CN',
    'ibulocale': 'zh_cn',
    'cookiePricesDisplayed': 'CNY',
    'UBT_VID': '1695773629557.98feUVlagOak',
    'Union': 'OUID=xc&AllianceID=4897&SID=799748&SourceID=&createtime=1708417461&Expires=1709022261390',
    'MKT_OrderClick': 'ASID=4897799748&AID=4897&CSID=799748&OUID=xc&CT=1708417461391&CURL=https%3A%2F%2Fhotels.ctrip.com%2F%3Fallianceid%3D4897%26sid%3D799748%26ouid%3Dxc%26bd_creative%3D11072932491%26bd_vid%3D10057662576938572494%26keywordid%3D42483860496&VAL={"pc_vid":"1695773629557.98feUVlagOak"}',
    'MKT_CKID': '1695773629973.r3jls.xe6g',
    '_RF1': '183.230.167.245',
    '_RSG': 'yKKyJKZYfUFyr_k2Jz8NN9',
    '_RDG': '2898e93fe0e7342f1905abc363db5c335b',
    '_RGUID': 'f7a98a35-13f1-453c-95d7-23d4c2bbfd7c',
    'GUID': '09031090110801767808',
    'MKT_Pagesource': 'PC',
    'librauuid': '',
    'cticket': 'AC56EAC9BD515F771229BF160E7E90252133345A8E0509538F0893213CFFB550',
    'login_type': '0',
    'login_uid': '719FDDC86A38403E6BFF49C148C6AB50F71F3B9C37186641CF0E12A395AFFBFA',
    'DUID': 'u=719FDDC86A38403E6BFF49C148C6AB50F71F3B9C37186641CF0E12A395AFFBFA&v=0',
    'IsNonUser': 'F',
    'AHeadUserInfo': 'VipGrade=0&VipGradeName=%C6%D5%CD%A8%BB%E1%D4%B1&UserName=%D1%EE%D1%AB%D3%EE&NoReadMessageCount=0',
    '_jzqco': '%7C%7C%7C%7C1708417463784%7C1.1164084107.1708417461456.1708419842201.1708420612566.1708419842201.1708420612566.0.0.0.9.9',
    '_bfa': '1.1695773629557.98feUVlagOak.1.1708420605829.1708420612962.3.9.102002',
}

headers = {
    'authority': 'm.ctrip.com',
    'accept': 'application/json',
    'accept-language': 'zh-CN,zh;q=0.9',
    'cache-control': 'no-cache',
    'content-type': 'application/json;charset=UTF-8',
    # 'cookie': 'ibulanguage=CN; ibulocale=zh_cn; cookiePricesDisplayed=CNY; UBT_VID=1695773629557.98feUVlagOak; Union=OUID=xc&AllianceID=4897&SID=799748&SourceID=&createtime=1708417461&Expires=1709022261390; MKT_OrderClick=ASID=4897799748&AID=4897&CSID=799748&OUID=xc&CT=1708417461391&CURL=https%3A%2F%2Fhotels.ctrip.com%2F%3Fallianceid%3D4897%26sid%3D799748%26ouid%3Dxc%26bd_creative%3D11072932491%26bd_vid%3D10057662576938572494%26keywordid%3D42483860496&VAL={"pc_vid":"1695773629557.98feUVlagOak"}; MKT_CKID=1695773629973.r3jls.xe6g; _RF1=183.230.167.245; _RSG=yKKyJKZYfUFyr_k2Jz8NN9; _RDG=2898e93fe0e7342f1905abc363db5c335b; _RGUID=f7a98a35-13f1-453c-95d7-23d4c2bbfd7c; GUID=09031090110801767808; MKT_Pagesource=PC; librauuid=; cticket=AC56EAC9BD515F771229BF160E7E90252133345A8E0509538F0893213CFFB550; login_type=0; login_uid=719FDDC86A38403E6BFF49C148C6AB50F71F3B9C37186641CF0E12A395AFFBFA; DUID=u=719FDDC86A38403E6BFF49C148C6AB50F71F3B9C37186641CF0E12A395AFFBFA&v=0; IsNonUser=F; AHeadUserInfo=VipGrade=0&VipGradeName=%C6%D5%CD%A8%BB%E1%D4%B1&UserName=%D1%EE%D1%AB%D3%EE&NoReadMessageCount=0; _jzqco=%7C%7C%7C%7C1708417463784%7C1.1164084107.1708417461456.1708419842201.1708420612566.1708419842201.1708420612566.0.0.0.9.9; _bfa=1.1695773629557.98feUVlagOak.1.1708420605829.1708420612962.3.9.102002',
    'origin': 'https://hotels.ctrip.com',
    'p': '5466384799',
    'pragma': 'no-cache',
    'referer': 'https://hotels.ctrip.com/',
    'sec-ch-ua': '"Not A(Brand";v="99", "Google Chrome";v="121", "Chromium";v="121"',
    'sec-ch-ua-mobile': '?0',
    'sec-ch-ua-platform': '"macOS"',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'same-site',
    'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36',
}

params = {
    'testab': 'f79ccc45c7b471f104ea5a088e390c260a8e1249e3cd77f1fcb440d2943a8f21',
}

json_data = {
    'searchCondition': {
        'sortType': '',
        'adult': 1,
        'child': 0,
        'age': '',
        'pageNo': 1,
        'optionType': 'Province',
        'optionId': 24,
        'lat': 0,
        'destination': '广西, 中国',
        'keyword': '',
        'lng': 0,
        'cityId': -1,
        'checkIn': '2024-02-20',
        'checkOut': '2024-02-23',
        'roomNum': 1,
        'mapType': '',
        'travelPurpose': 0,
        'countryId': 1,
        'url': 'http://hotels.ctrip.com/hotels/list?countryId=1&city=-1&checkin=2024/02/20&checkout=2024/02/23&optionId=24&optionType=Province&directSearch=0&display=%E5%B9%BF%E8%A5%BF%2C%20%E4%B8%AD%E5%9B%BD&crn=1&adult=1&children=0&searchBoxArg=t&travelPurpose=0&ctm_ref=ix_sb_dl&domestic=1&',
        'pageSize': 10,
        'timeOffset': 0,
        'radius': 0,
        'directSearch': 0,
        'signInHotelId': 0,
        'signInType': 0,
    },
    'filterCondition': {
        'star': [],
        'rate': 0,
        'breakfast': [],
        'bookable': [],
        'zone': [],
        'landmark': [],
        'metro': [],
        'airportTrainstation': [],
        'location': [],
        'brand': [],
        'feature': [],
        'category': [],
        'amenty': [],
        'discount': [],
        'cityId': [],
        'payType': [],
        'bookPolicy': [],
        'bedType': [],
        'priceRange': {
            'highPrice': -1,
            'lowPrice': 0,
            'curr': 'CNY',
        },
        'priceType': '',
        'promotion': [],
        'rateCount': [],
        'hotArea': [],
        'ctripService': [],
        'applicablePeople': [],
        'hotPoi': [],
        'covid': [],
    },
    'ssr': False,
    'genk': True,
    'genKeyParam': {
        'a': 0,
        'b': '2024-02-20',
        'c': '2024-02-23',
        'd': 'zh-cn',
        'e': 2,
    },
    'pageTraceId': '93298186-0eff-4086-bc35-1015bef401f9',
    'tsid': 'prd-2024_2_20_3-aa1ebef9-49a4-4340-9cba-edcf7cba66c4-hotel_online_list-3.6.2-DOM-online',
    'head': {
        'Locale': 'zh-CN',
        'Currency': 'CNY',
        'Device': 'PC',
        'UserIP': '183.230.167.245',
        'Group': 'ctrip',
        'ReferenceID': '',
        'UserRegion': 'CN',
        'AID': '4897',
        'SID': '799748',
        'Ticket': '',
        'UID': '',
        'IsQuickBooking': '',
        'ClientID': '09031090110801767808',
        'OUID': 'xc',
        'TimeZone': '8',
        'P': '5466384799',
        'PageID': '102002',
        'Version': '',
        'HotelExtension': {
            'WebpSupport': True,
            'group': 'CTRIP',
            'Qid': '389268621740',
            'hasAidInUrl': False,
            'hotelUuidKey': 'nTAjpnympYSUimXK5OeU7ES0WLHEDQec4K6Yp5vFsYMavnLYg8EPMIhvsLrOYgBr5MJTNJNdeDkE7fjATWANIaPwBXeTYklKahRNly5pxBGvzAvqAjQJc8jGHrXbvBkjLJPpjF6w3cRLHj9JADrLgYgZybGjXpv65em7YbAjg5yaLjU9wd0KDYaXIQkizbEh5ySpjHOvoHE1ZvqOWt3jUHYoceTtwoYF1RDXxNEDfYODi8UwdkRmLEDpW7mx0Mjt1i8Yt6RGHWFHEcAI3sIBUI9Y45roOjLbeb7vNSrT9wSYOlJQLJFNI8gv39YZqy13jMgvUfeb5Y4Sj1TypJ38vg1YLAyTAjdovsqedqYDqj9DyNJXNYdqvcQWsMWfMEpAKLnEXYHBELUwS9YnmralEOdwgGxUaYXcj49jfZWXEnyk7YTYZSKQ9JqPycLEq3iqNRtYhgeL6KsDx55xBtxcDrOY5dvdGvfpi4tYGZin7ik8iH8jc4JmUyz5IUYLtJNHYzoESojQlJFfYdgw4sw9FiXdYFAw3FwOsEdpepYsnY6TWSMeTFRZGy6BWSajmAE4sY0lWP9wcUWBUvlTwmowAZwB7vtj75wnYsLytGegPRAvFhenDYZY1ByglxnORM4R3GwH0v79JBcyzAyXoiLMwQOY3HvPsJAoJaLypZvfNj3Lw4YU7JT8i5Hr51jhaw7Tv4hj0hez4EU5JZYkoYUnwndR74RGpET4E4XW9NeUdv9pWUzWOSr3kxA9icYgLxnBj71I4cRXhE0cE5LWhaengygdjT1YHhIH3en8ElYUXrZayZkRAcRokypnWDQjz3E7UYZgWLMwUfWoDvMUwagwHdEsdw16vLaEnYGSRgojtDwM4EhFENhR1UWqlWl0Y3oY9gYksRUgYBHWF6YbTYq6YT6jQteX6E0sWFGeshwBoeXpjfhYnlyZqEmtj9aE7zrg7jHtw4nyzDet0E7MEHYagRtGW5oWcDWq5W0GYzYpnKQJPPKFTvhtE03WbOyT4jNJbmvPbElFWhXyb0jn5ia3i38J5Yk6JzlihXJUOEhDEsdETzRObEF3e4qwkAyNYXbvatY1tyQAYqzEcoEltYBgYc9YPoY70IBqYzt',
        },
        'Frontend': {
            'vid': '1695773629557.98feUVlagOak',
            'sessionID': '3',
            'pvid': '9',
        },
    },
    'ServerData': '',
}

response = requests.post(
    'https://m.ctrip.com/restapi/soa2/21881/json/HotelSearch',
    params=params,
    cookies=cookies,
    headers=headers,
    json=json_data,
).json()
print(response)

# Note: json_data will not be serialized by requests
# exactly as it was in the original request.
#data = '{"searchCondition":{"sortType":"","adult":1,"child":0,"age":"","pageNo":1,"optionType":"Province","optionId":24,"lat":0,"destination":"广西, 中国","keyword":"","lng":0,"cityId":-1,"checkIn":"2024-02-20","checkOut":"2024-02-23","roomNum":1,"mapType":"","travelPurpose":0,"countryId":1,"url":"http://hotels.ctrip.com/hotels/list?countryId=1&city=-1&checkin=2024/02/20&checkout=2024/02/23&optionId=24&optionType=Province&directSearch=0&display=%E5%B9%BF%E8%A5%BF%2C%20%E4%B8%AD%E5%9B%BD&crn=1&adult=1&children=0&searchBoxArg=t&travelPurpose=0&ctm_ref=ix_sb_dl&domestic=1&","pageSize":10,"timeOffset":0,"radius":0,"directSearch":0,"signInHotelId":0,"signInType":0},"filterCondition":{"star":[],"rate":0,"breakfast":[],"bookable":[],"zone":[],"landmark":[],"metro":[],"airportTrainstation":[],"location":[],"brand":[],"feature":[],"category":[],"amenty":[],"discount":[],"cityId":[],"payType":[],"bookPolicy":[],"bedType":[],"priceRange":{"highPrice":-1,"lowPrice":0,"curr":"CNY"},"priceType":"","promotion":[],"rateCount":[],"hotArea":[],"ctripService":[],"applicablePeople":[],"hotPoi":[],"covid":[]},"ssr":false,"genk":true,"genKeyParam":{"a":0,"b":"2024-02-20","c":"2024-02-23","d":"zh-cn","e":2},"pageTraceId":"93298186-0eff-4086-bc35-1015bef401f9","tsid":"prd-2024_2_20_3-aa1ebef9-49a4-4340-9cba-edcf7cba66c4-hotel_online_list-3.6.2-DOM-online","head":{"Locale":"zh-CN","Currency":"CNY","Device":"PC","UserIP":"183.230.167.245","Group":"ctrip","ReferenceID":"","UserRegion":"CN","AID":"4897","SID":"799748","Ticket":"","UID":"","IsQuickBooking":"","ClientID":"09031090110801767808","OUID":"xc","TimeZone":"8","P":"5466384799","PageID":"102002","Version":"","HotelExtension":{"WebpSupport":true,"group":"CTRIP","Qid":"389268621740","hasAidInUrl":false,"hotelUuidKey":"nTAjpnympYSUimXK5OeU7ES0WLHEDQec4K6Yp5vFsYMavnLYg8EPMIhvsLrOYgBr5MJTNJNdeDkE7fjATWANIaPwBXeTYklKahRNly5pxBGvzAvqAjQJc8jGHrXbvBkjLJPpjF6w3cRLHj9JADrLgYgZybGjXpv65em7YbAjg5yaLjU9wd0KDYaXIQkizbEh5ySpjHOvoHE1ZvqOWt3jUHYoceTtwoYF1RDXxNEDfYODi8UwdkRmLEDpW7mx0Mjt1i8Yt6RGHWFHEcAI3sIBUI9Y45roOjLbeb7vNSrT9wSYOlJQLJFNI8gv39YZqy13jMgvUfeb5Y4Sj1TypJ38vg1YLAyTAjdovsqedqYDqj9DyNJXNYdqvcQWsMWfMEpAKLnEXYHBELUwS9YnmralEOdwgGxUaYXcj49jfZWXEnyk7YTYZSKQ9JqPycLEq3iqNRtYhgeL6KsDx55xBtxcDrOY5dvdGvfpi4tYGZin7ik8iH8jc4JmUyz5IUYLtJNHYzoESojQlJFfYdgw4sw9FiXdYFAw3FwOsEdpepYsnY6TWSMeTFRZGy6BWSajmAE4sY0lWP9wcUWBUvlTwmowAZwB7vtj75wnYsLytGegPRAvFhenDYZY1ByglxnORM4R3GwH0v79JBcyzAyXoiLMwQOY3HvPsJAoJaLypZvfNj3Lw4YU7JT8i5Hr51jhaw7Tv4hj0hez4EU5JZYkoYUnwndR74RGpET4E4XW9NeUdv9pWUzWOSr3kxA9icYgLxnBj71I4cRXhE0cE5LWhaengygdjT1YHhIH3en8ElYUXrZayZkRAcRokypnWDQjz3E7UYZgWLMwUfWoDvMUwagwHdEsdw16vLaEnYGSRgojtDwM4EhFENhR1UWqlWl0Y3oY9gYksRUgYBHWF6YbTYq6YT6jQteX6E0sWFGeshwBoeXpjfhYnlyZqEmtj9aE7zrg7jHtw4nyzDet0E7MEHYagRtGW5oWcDWq5W0GYzYpnKQJPPKFTvhtE03WbOyT4jNJbmvPbElFWhXyb0jn5ia3i38J5Yk6JzlihXJUOEhDEsdETzRObEF3e4qwkAyNYXbvatY1tyQAYqzEcoEltYBgYc9YPoY70IBqYzt"},"Frontend":{"vid":"1695773629557.98feUVlagOak","sessionID":"3","pvid":"9"}},"ServerData":""}'.encode()
#response = requests.post(
#    'https://m.ctrip.com/restapi/soa2/21881/json/HotelSearch',
#    params=params,
#    cookies=cookies,
#    headers=headers,
#    data=data,
#)